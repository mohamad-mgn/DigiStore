{% load static %}

<nav class="navbar navbar-expand-lg navbar-dark bg-dark py-3 shadow-sm">
  <div class="container">

    <!-- Logo -->
    <a class="navbar-brand d-flex align-items-center gap-3" href="{% url 'home:home' %}">
      <img src="{% static 'images/logo.png' %}" alt="Logo" style="height:40px;">
      <span class="fw-bold fs-4">دیجی‌استور</span>
    </a>

    <!-- Toggler -->
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarMenu">
      <span class="navbar-toggler-icon"></span>
    </button>

    <!-- Menu -->
    <div class="collapse navbar-collapse" id="navbarMenu">

      <!-- Left -->
      <ul class="navbar-nav me-auto gap-3">

        <li class="nav-item">
          <a class="nav-link" href="{% url 'product:list' %}">محصولات</a>
        </li>

        <li class="nav-item">
          <a class="nav-link" href="{% url 'home:about' %}">درباره ما</a>
        </li>

      </ul>

      <!-- Right -->
      <ul class="navbar-nav ms-auto gap-3 align-items-center">

        <!-- Cart -->
        <li class="nav-item position-relative">
          <a class="btn btn-outline-light" href="{% url 'cart:detail' %}">
            <i class="bi bi-cart3"></i>
            {% if request.user.is_authenticated and request.user.cart.items.count %}
            <span class="badge bg-danger position-absolute top-0 start-100 translate-middle">
              {{ request.user.cart.items.count }}
            </span>
            {% endif %}
          </a>
        </li>

        {% if request.user.is_authenticated %}

        <li class="nav-item">
          <a class="nav-link" href="{% url 'dashboard:customer' %}">داشبورد</a>
        </li>

        <li class="nav-item">
          <a class="btn btn-danger btn-sm" href="{% url 'account:signout' %}">خروج</a>
        </li>

        {% else %}

        <li class="nav-item">
          <a class="btn btn-primary btn-sm" href="{% url 'account:signin' %}">ورود</a>
        </li>

        <li class="nav-item">
          <a class="btn btn-outline-light btn-sm" href="{% url 'account:send_otp' %}">ثبت‌نام</a>
        </li>

        {% endif %}

      </ul>

    </div>
  </div>
</nav>