{% extends "base.html" %}
{% block title %}پروفایل — {{ user.name }}{% endblock %}

{% block content %}
<div class="row">

    <!-- Card for basic user info -->
    <div class="col-lg-4">
        <div class="card shadow-sm border-0" style="border-radius:14px;">
            <div class="card-body p-4 text-center">

                <!-- Display full name or phone if full name is missing -->
                <h5 class="fw-bold">{{ user.full_name|default:user.phone }}</h5>
                <p class="text-muted mb-3">{{ user.phone }}</p>

                <!-- Link to edit profile -->
                <a href="{% url 'account:profile_edit' %}"
                   class="btn btn-outline-primary w-100">
                    ویرایش پروفایل
                </a>

            </div>
        </div>
    </div>

    <!-- Card for role-specific information -->
    <div class="col-lg-8">
        <div class="card shadow-sm border-0" style="border-radius:14px;">
            <div class="card-body p-4">

                {% if user.is_seller %}
                    <!-- Seller profile section -->
                    <h5 class="fw-bold mb-3 text-primary">پروفایل فروشنده</h5>

                    <p><strong>نام فروشگاه:</strong> {{ user.seller_profile.store_name }}</p>
                    <p><strong>کد ملی:</strong> {{ user.seller_profile.national_id }}</p>
                    <p><strong>شماره تماس دوم:</strong> {{ user.seller_profile.phone_secondary }}</p>
                    <p><strong>توضیحات:</strong> {{ user.seller_profile.description }}</p>

                {% else %}
                    <!-- Customer profile section -->
                    <h5 class="fw-bold mb-3 text-primary">پروفایل خریدار</h5>

                    <p><strong>آدرس:</strong> {{ user.customer_profile.address }}</p>
                    <p><strong>کدپستی:</strong> {{ user.customer_profile.postal_code }}</p>

                {% endif %}

            </div>
        </div>
    </div>

</div>
{% endblock %}